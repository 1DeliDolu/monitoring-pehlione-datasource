/* [create-plugin] version: 6.1.1 */
/* [create-plugin] plugin: pehlione-monitoring-datasource@1.0.0 */
define(["@grafana/ui","module","@grafana/runtime","@grafana/data","react"],(e,l,a,t,r)=>(()=>{"use strict";var o={7:l=>{l.exports=e},308:e=>{e.exports=l},531:e=>{e.exports=a},781:e=>{e.exports=t},959:e=>{e.exports=r}},n={};function u(e){var l=n[e];if(void 0!==l)return l.exports;var a=n[e]={exports:{}};return o[e](a,a.exports,u),a.exports}u.n=e=>{var l=e&&e.__esModule?()=>e.default:()=>e;return u.d(l,{a:l}),l},u.d=(e,l)=>{for(var a in l)u.o(l,a)&&!u.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:l[a]})},u.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.p="public/plugins/pehlione-monitoring-datasource/";var i={};u.r(i),u.d(i,{plugin:()=>j});var s=u(308),c=u.n(s);u.p=c()&&c().uri?c().uri.slice(0,c().uri.lastIndexOf("/")+1):"public/plugins/pehlione-monitoring-datasource/";var p=u(781),b=u(531);const v={endpoint:"history",metric:"cpu_usage_pct"};function d(e,l,a){return l in e?Object.defineProperty(e,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[l]=a,e}class m extends b.DataSourceWithBackend{getDefaultQuery(e){return v}applyTemplateVariables(e,l){return function(e){for(var l=1;l<arguments.length;l++){var a=null!=arguments[l]?arguments[l]:{},t=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.forEach(function(l){d(e,l,a[l])})}return e}({},e)}filterQuery(e){return!0}constructor(e){super(e)}}var g=u(959),_=u.n(g),y=u(7);function f(e,l,a){return l in e?Object.defineProperty(e,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[l]=a,e}function k(e){for(var l=1;l<arguments.length;l++){var a=null!=arguments[l]?arguments[l]:{},t=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.forEach(function(l){f(e,l,a[l])})}return e}function O(e,l){return l=null!=l?l:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):function(e,l){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);l&&(t=t.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),a.push.apply(a,t)}return a}(Object(l)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(l,a))}),e}function P(e,l,a){return l in e?Object.defineProperty(e,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[l]=a,e}function w(e){for(var l=1;l<arguments.length;l++){var a=null!=arguments[l]?arguments[l]:{},t=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.forEach(function(l){P(e,l,a[l])})}return e}function h(e,l){return l=null!=l?l:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):function(e,l){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);l&&(t=t.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),a.push.apply(a,t)}return a}(Object(l)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(l,a))}),e}const j=new p.DataSourcePlugin(m).setConfigEditor(function(e){const{onOptionsChange:l,options:a}=e,{jsonData:t,secureJsonFields:r,secureJsonData:o}=a;return _().createElement(_().Fragment,null,_().createElement(y.InlineField,{label:"API URL",labelWidth:14,interactive:!0,tooltip:"Backend API temel adresi"},_().createElement(y.Input,{id:"config-editor-path",onChange:e=>{l(O(k({},a),{jsonData:O(k({},t),{path:e.target.value})}))},value:t.path,placeholder:"http://127.0.0.1:7000",width:40})),_().createElement(y.InlineField,{label:"API Key",labelWidth:14,interactive:!0,tooltip:"Secure json field (backend only)"},_().createElement(y.SecretInput,{required:!0,id:"config-editor-api-key",isConfigured:r.apiKey,value:null==o?void 0:o.apiKey,placeholder:"Enter your API key",width:40,onReset:()=>{l(O(k({},a),{secureJsonFields:O(k({},a.secureJsonFields),{apiKey:!1}),secureJsonData:O(k({},a.secureJsonData),{apiKey:""})}))},onChange:e=>{l(O(k({},a),{secureJsonData:{apiKey:e.target.value}}))}})))}).setQueryEditor(function({query:e,onChange:l,onRunQuery:a}){var t,r;const o=e.endpoint||"history",n=[{label:"Processes",value:"process"},{label:"CPU",value:"cpu"},{label:"Memory",value:"memory"},{label:"Disk",value:"disk"},{label:"Network",value:"network"},{label:"GPU",value:"gpu"}],u=[{label:"System (Current)",value:"system",description:"Anlık sistem durumu"},{label:"History (Time Series)",value:"history",description:"Geçmiş veri grafikleri"},{label:"Apps",value:"apps",description:"Uygulama metrikleri"},{label:"Tasks",value:"tasks",description:"Görev metrikleri"},{label:"Alerts",value:"alerts",description:"Uyarılar"}],i={system:[{label:"CPU Usage (%)",value:"cpu_usage_pct"},{label:"Memory Usage (%)",value:"mem_pct"},{label:"Memory Used (MB)",value:"mem_used_mb"},{label:"Load Average (1m)",value:"load_avg_one"},{label:"Load Average (5m)",value:"load_avg_five"},{label:"Load Average (15m)",value:"load_avg_fifteen"},{label:"Disk Usage (%)",value:"disk"},{label:"GPU Usage (%)",value:"gpu_usage_pct"},{label:"GPU Memory Usage (%)",value:"gpu_memory_pct"},{label:"GPU Details",value:"gpu"},{label:"Network RX (kbps)",value:"network_rx"},{label:"Network TX (kbps)",value:"network_tx"},{label:"Process Count",value:"process_count"},{label:"All Metrics",value:"all"}],history:[{label:"CPU Usage (%)",value:"cpu_usage_pct"},{label:"Memory Usage (%)",value:"mem_pct"},{label:"Memory Used (MB)",value:"mem_used_mb"},{label:"Load Average (1m)",value:"load_avg_one"},{label:"Load Average (5m)",value:"load_avg_five"},{label:"Load Average (15m)",value:"load_avg_fifteen"},{label:"Disk Usage (%)",value:"disk"},{label:"GPU Usage (%)",value:"gpu_usage_pct"},{label:"GPU Memory Usage (%)",value:"gpu_memory_pct"},{label:"GPU Details",value:"gpu"},{label:"Network RX (kbps)",value:"network_rx"},{label:"Network TX (kbps)",value:"network_tx"},{label:"Process Count",value:"process_count"},{label:"All Metrics",value:"all"}],tasks:[{label:"Not Implemented",value:"not_supported"}],alerts:[{label:"Not Implemented",value:"not_supported"}]},s={process:[{label:"Process Table",value:"table"},{label:"CPU Usage (%)",value:"cpu_pct"},{label:"Memory Used (MB)",value:"memory_mb"},{label:"Memory Usage (%)",value:"memory_pct"},{label:"Virtual Memory (MB)",value:"virtual_memory_mb"},{label:"Disk Read (kbps)",value:"disk_read_kbps"},{label:"Disk Write (kbps)",value:"disk_write_kbps"},{label:"Disk Read Total (MB)",value:"disk_read_total_mb"},{label:"Disk Write Total (MB)",value:"disk_write_total_mb"},{label:"Thread Count",value:"thread_count"}],cpu:[{label:"CPU Total (%)",value:"cpu_total_pct"},{label:"CPU Per Core (%)",value:"cpu_per_core_pct"},{label:"Load Average (1m)",value:"cpu_load_avg_one"},{label:"Load Average (5m)",value:"cpu_load_avg_five"},{label:"Load Average (15m)",value:"cpu_load_avg_fifteen"},{label:"Logical Cores",value:"cpu_logical_cores"},{label:"Physical Cores",value:"cpu_physical_cores"}],memory:[{label:"Memory Used (MB)",value:"memory_used_mb"},{label:"Memory Available (MB)",value:"memory_available_mb"},{label:"Memory Total (MB)",value:"memory_total_mb"},{label:"Memory Usage (%)",value:"memory_usage_pct"},{label:"Swap Used (MB)",value:"memory_swap_used_mb"},{label:"Swap Free (MB)",value:"memory_swap_free_mb"},{label:"Swap Total (MB)",value:"memory_swap_total_mb"}],disk:[{label:"Disk Usage (%)",value:"disk_usage_pct"},{label:"Disk Used (GB)",value:"disk_used_gb"},{label:"Disk Free (GB)",value:"disk_free_gb"},{label:"Disk Total (GB)",value:"disk_total_gb"}],network:[{label:"Network RX (kbps)",value:"network_rx_kbps"},{label:"Network TX (kbps)",value:"network_tx_kbps"},{label:"Network Total RX (MB)",value:"network_total_received_mb"},{label:"Network Total TX (MB)",value:"network_total_transmitted_mb"}],gpu:[{label:"GPU Usage (%)",value:"gpu_usage_pct"},{label:"GPU Memory Usage (%)",value:"gpu_memory_pct"},{label:"GPU Temperature (°C)",value:"gpu_temperature_c"},{label:"GPU Details",value:"gpu"}]},c="apps"===o?e.group||"process":void 0;var p,b;const v="apps"===o?null!==(p=s[null!=c?c:"process"])&&void 0!==p?p:s.process:null!==(b=i[o])&&void 0!==b?b:i.history;var d;const m=null!==(d=null===(t=v[0])||void 0===t?void 0:t.value)&&void 0!==d?d:"cpu_usage_pct";var g;const f=null!==(g=null===(r=v.find(l=>l.value===e.metric))||void 0===r?void 0:r.value)&&void 0!==g?g:m;return _().createElement(y.Stack,{gap:0},_().createElement(y.InlineField,{label:"Endpoint",labelWidth:14,tooltip:"Veri kaynağı endpoint'i seçin"},_().createElement(y.Combobox,{options:u,value:u.find(e=>e.value===o)||u[1],onChange:t=>{var r;const o=null!==(r=t.value)&&void 0!==r?r:"history";if("apps"===o){var n;const a=e.group||"process";var u;var c;const t=null!==(c=null===(n=(null!==(u=s[a])&&void 0!==u?u:s.process)[0])||void 0===n?void 0:n.value)&&void 0!==c?c:"table";l(h(w({},e),{endpoint:o,group:a,metric:t}))}else{var p,b;var v;const a=null!==(v=null===(p=(null!==(b=i[o])&&void 0!==b?b:i.history)[0])||void 0===p?void 0:p.value)&&void 0!==v?v:"cpu_usage_pct";l(h(w({},e),{endpoint:o,group:void 0,metric:a}))}a()},width:32})),"apps"===o&&_().createElement(y.InlineField,{label:"Group",labelWidth:14,tooltip:"Gösterilecek kategori"},_().createElement(y.Combobox,{options:n,value:n.find(e=>e.value===c)||n[0],onChange:t=>{var r,o;const n=null!==(o=t.value)&&void 0!==o?o:"process";var u;var i;const c=null!==(i=null===(r=(null!==(u=s[n])&&void 0!==u?u:s.process)[0])||void 0===r?void 0:r.value)&&void 0!==i?i:"table";l(h(w({},e),{group:n,metric:c})),a()},width:32})),_().createElement(y.InlineField,{label:"Metric",labelWidth:14,tooltip:"Gösterilecek metriği seçin"},_().createElement(y.Combobox,{options:v,value:v.find(e=>e.value===f)||v[0],onChange:t=>{var r;l(h(w({},e),{metric:null!==(r=t.value)&&void 0!==r?r:m})),a()},width:32})))});return i})());
//# sourceMappingURL=module.js.map